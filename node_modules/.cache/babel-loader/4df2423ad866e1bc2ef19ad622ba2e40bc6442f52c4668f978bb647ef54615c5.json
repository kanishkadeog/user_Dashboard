{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dmayu\\\\OneDrive\\\\Desktop\\\\kanishka\\\\project\\\\extra\\\\user_Dashboard\\\\user_dashboard\\\\src\\\\pages\\\\UsersPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Container, Row, Col, Button, Form } from \"react-bootstrap\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport UserTable from \"../components/UserTable\";\nimport Pagination from \"../components/Pagination\";\nimport SearchBar from \"../components/SearchBar\";\nimport FilterPopup from \"../components/FilterPopup\";\nimport { getUsers, deleteUser } from \"../services/api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function UsersPage() {\n  _s();\n  const [users, setUsers] = useState([]); // master list\n  const [filteredUsers, setFilteredUsers] = useState([]); // after search/filter\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [showFilter, setShowFilter] = useState(false);\n\n  // sorting\n  const [sortConfig, setSortConfig] = useState({\n    key: \"id\",\n    direction: \"asc\"\n  });\n\n  // pagination\n  const [pageLimit, setPageLimit] = useState(10);\n  const [currentPage, setCurrentPage] = useState(1);\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // fetch & enrich users\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  // handle incoming state from Add/Edit pages (so UI updates immediately)\n  useEffect(() => {\n    if (location.state) {\n      const {\n        addedUser,\n        updatedUser\n      } = location.state;\n      if (addedUser) {\n        const enriched = enrichSingleUser(addedUser);\n        setUsers(prev => [enriched, ...prev]);\n        setFilteredUsers(prev => [enriched, ...prev]);\n        // clear navigation state\n        navigate(location.pathname, {\n          replace: true,\n          state: null\n        });\n      } else if (updatedUser) {\n        const enriched = enrichSingleUser(updatedUser);\n        setUsers(prev => prev.map(u => u.id === enriched.id ? enriched : u));\n        setFilteredUsers(prev => prev.map(u => u.id === enriched.id ? enriched : u));\n        navigate(location.pathname, {\n          replace: true,\n          state: null\n        });\n      }\n    }\n  }, [location.state]); // eslint-disable-line\n\n  const enrichSingleUser = user => {\n    var _user$company;\n    const [firstName, ...rest] = (user.name || \"\").split(\" \");\n    return {\n      ...user,\n      firstName,\n      lastName: rest.join(\" \"),\n      department: ((_user$company = user.company) === null || _user$company === void 0 ? void 0 : _user$company.name) || user.department || \"N/A\"\n    };\n  };\n  const fetchUsers = async () => {\n    try {\n      const data = await getUsers();\n      // enrich each user with firstName, lastName, department\n      const enriched = data.map(user => {\n        var _user$company2;\n        const [firstName, ...rest] = (user.name || \"\").split(\" \");\n        return {\n          ...user,\n          firstName,\n          lastName: rest.join(\" \"),\n          department: ((_user$company2 = user.company) === null || _user$company2 === void 0 ? void 0 : _user$company2.name) || \"N/A\"\n        };\n      });\n      setUsers(enriched);\n      setFilteredUsers(enriched);\n    } catch (err) {\n      alert(\"Error fetching users\");\n    }\n  };\n\n  // delete\n  const handleDelete = async id => {\n    if (!window.confirm(\"Are you sure to delete this user?\")) return;\n    try {\n      await deleteUser(id); // JSONPlaceholder simulates deletion\n      const updated = users.filter(u => u.id !== id);\n      setUsers(updated);\n      setFilteredUsers(updated);\n    } catch {\n      alert(\"Error deleting user\");\n    }\n  };\n\n  // search\n  const handleSearch = query => {\n    setSearchQuery(query);\n    const q = query.trim().toLowerCase();\n    if (!q) {\n      setFilteredUsers(users);\n      setCurrentPage(1);\n      return;\n    }\n    const filtered = users.filter(u => {\n      return (u.firstName || \"\").toLowerCase().includes(q) || (u.lastName || \"\").toLowerCase().includes(q) || (u.email || \"\").toLowerCase().includes(q) || (u.department || \"\").toLowerCase().includes(q);\n    });\n    setFilteredUsers(filtered);\n    setCurrentPage(1);\n  };\n\n  // filter\n  const handleFilter = filters => {\n    const filtered = users.filter(u => {\n      return (!filters.firstName || (u.firstName || \"\").toLowerCase().includes(filters.firstName.toLowerCase())) && (!filters.lastName || (u.lastName || \"\").toLowerCase().includes(filters.lastName.toLowerCase())) && (!filters.email || (u.email || \"\").toLowerCase().includes(filters.email.toLowerCase())) && (!filters.department || (u.department || \"\").toLowerCase().includes(filters.department.toLowerCase()));\n    });\n    setFilteredUsers(filtered);\n    setCurrentPage(1);\n  };\n  const handleClearFilter = () => {\n    setFilteredUsers(users);\n    setSearchQuery(\"\");\n    setCurrentPage(1);\n  };\n\n  // sorting\n  const handleSort = key => {\n    let dir = \"asc\";\n    if (sortConfig.key === key && sortConfig.direction === \"asc\") dir = \"desc\";\n    setSortConfig({\n      key,\n      direction: dir\n    });\n  };\n  const sortedUsers = [...filteredUsers].sort((a, b) => {\n    const {\n      key,\n      direction\n    } = sortConfig;\n    let A = key === \"firstName\" || key === \"lastName\" ? a[key] || \"\" : key === \"id\" ? Number(a[key]) : a[key] || \"\";\n    let B = key === \"firstName\" || key === \"lastName\" ? b[key] || \"\" : key === \"id\" ? Number(b[key]) : b[key] || \"\";\n    if (key !== \"id\") {\n      A = String(A).toLowerCase();\n      B = String(B).toLowerCase();\n    }\n    if (A < B) return direction === \"asc\" ? -1 : 1;\n    if (A > B) return direction === \"asc\" ? 1 : -1;\n    return 0;\n  });\n\n  // Pagination controls\n  const total = sortedUsers.length;\n  const totalPages = Math.max(1, Math.ceil(total / pageLimit));\n  const displayed = sortedUsers.slice((currentPage - 1) * pageLimit, currentPage * pageLimit);\n\n  // When pageLimit changes, reset to page 1\n  useEffect(() => setCurrentPage(1), [pageLimit]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-3\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-2 align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"User Management Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(SearchBar, {\n          value: searchQuery,\n          onChange: handleSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        className: \"text-end\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: \"me-2\",\n          variant: \"success\",\n          onClick: () => navigate(\"/users/add\"),\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"me-2\",\n          variant: \"info\",\n          onClick: () => setShowFilter(true),\n          children: \"Filter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-secondary\",\n          onClick: handleClearFilter,\n          children: \"Clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), showFilter && /*#__PURE__*/_jsxDEV(FilterPopup, {\n      show: showFilter,\n      handleClose: () => setShowFilter(false),\n      applyFilter: handleFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 22\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Showing \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: displayed.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 21\n          }, this), \" of \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: total\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 60\n          }, this), \" users\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        className: \"text-end\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"me-2\",\n          children: \"Rows:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: pageLimit,\n          onChange: e => setPageLimit(Number(e.target.value)),\n          className: \"form-select d-inline-block w-auto\",\n          children: [10, 25, 50, 100].map(n => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: n,\n            children: n\n          }, n, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 38\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), displayed.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"text-danger\",\n        children: \"No users found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(UserTable, {\n        users: displayed,\n        onEdit: id => navigate(`/users/edit/${id}`),\n        onDelete: handleDelete,\n        onSort: handleSort,\n        sortConfig: sortConfig\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        total: total,\n        pageLimit: pageLimit,\n        currentPage: currentPage,\n        setCurrentPage: setCurrentPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 5\n  }, this);\n}\n\n//==========================\n\n// import React, { useState, useEffect } from \"react\";\n// import { Container, Row, Col, Button } from \"react-bootstrap\";\n// import UserTable from \"../components/UserTable\";\n// import { getUsers, deleteUser } from \"../services/api\";\n// import { useNavigate } from \"react-router-dom\";\n// import FilterPopup from \"../components/FilterPopup\";\n\n// const UsersPage = () => {\n//   // State to store all users fetched from API\n//   const [users, setUsers] = useState([]);\n//   // State to store filtered/search results\n//   const [filteredUsers, setFilteredUsers] = useState([]);\n//   // State for search input value\n//   const [searchQuery, setSearchQuery] = useState(\"\");\n//   // State to toggle filter popup\n//   const [showFilter, setShowFilter] = useState(false);\n//   // State to track sorting key and direction\n//   const [sortConfig, setSortConfig] = useState({ key: \"id\", direction: \"asc\" });\n\n//   const navigate = useNavigate();\n\n//   // Fetch users when component mounts\n//   useEffect(() => {\n//     fetchUsers();\n//   }, []);\n\n//   // Function to fetch users from API\n//   const fetchUsers = async () => {\n//     try {\n//       const data = await getUsers();\n//       // Enrich data: use company.name as department\n//       const enrichedData = data.map((user) => ({\n//         ...user,\n//         department: user.company?.name || \"N/A\",\n//       }));\n//       setUsers(enrichedData);\n//       setFilteredUsers(enrichedData);\n//     } catch {\n//       alert(\"Error fetching users\");\n//     }\n//   };\n\n//   // Delete user by ID\n//   const handleDelete = async (id) => {\n//     if (window.confirm(\"Are you sure to delete this user?\")) {\n//       try {\n//         await deleteUser(id);\n//         // Remove deleted user from state\n//         const updatedUsers = users.filter((u) => u.id !== id);\n//         setUsers(updatedUsers);\n//         setFilteredUsers(updatedUsers);\n//       } catch {\n//         alert(\"Error deleting user\");\n//       }\n//     }\n//   };\n\n//   // Handle search input\n//   const handleSearch = (query) => {\n//     setSearchQuery(query);\n//     const filtered = users.filter((user) => {\n//       return (\n//         user.name.toLowerCase().includes(query.toLowerCase()) ||\n//         user.email.toLowerCase().includes(query.toLowerCase()) ||\n//         user.department.toLowerCase().includes(query.toLowerCase())\n//       );\n//     });\n//     setFilteredUsers(filtered);\n//   };\n\n//   // Apply filter from FilterPopup\n//   const handleFilter = (filters) => {\n//     const filtered = users.filter((user) => {\n//       return (\n//         (!filters.name || user.name.toLowerCase().includes(filters.name.toLowerCase())) &&\n//         (!filters.email || user.email.toLowerCase().includes(filters.email.toLowerCase())) &&\n//         (!filters.department || user.department.toLowerCase().includes(filters.department.toLowerCase()))\n//       );\n//     });\n//     setFilteredUsers(filtered || []);\n//     setShowFilter(false); // Close filter popup\n//   };\n\n//   // Clear filters and show all users\n//   const handleClearFilter = () => {\n//     setFilteredUsers(users);\n//   };\n\n//   // Handle sorting by column\n//   const handleSort = (key) => {\n//     let direction = \"asc\";\n//     if (sortConfig.key === key && sortConfig.direction === \"asc\") direction = \"desc\";\n//     setSortConfig({ key, direction });\n//   };\n\n//   // Sort users based on sortConfig\n//   const sortedUsers = [...filteredUsers].sort((a, b) => {\n//     const { key, direction } = sortConfig;\n//     let compareA = a[key];\n//     let compareB = b[key];\n//     if (key === \"id\") {\n//       compareA = Number(compareA);\n//       compareB = Number(compareB);\n//     } else {\n//       compareA = compareA.toLowerCase();\n//       compareB = compareB.toLowerCase();\n//     }\n//     if (compareA < compareB) return direction === \"asc\" ? -1 : 1;\n//     if (compareA > compareB) return direction === \"asc\" ? 1 : -1;\n//     return 0;\n//   });\n\n//   return (\n//     <Container className=\"mt-4\">\n//       <Row className=\"mb-3\">\n\n//         <Col className=\"text-end\">\n//           {/* Button to navigate to Add User page */}\n//           <Button variant=\"primary\" onClick={() => navigate(\"/add\")}>Add User</Button>{\" \"}\n//           {/* Toggle filter popup */}\n//           <Button variant=\"secondary\" onClick={() => setShowFilter(!showFilter)}>Filter</Button>{\" \"}\n//           {/* Clear applied filters */}\n//           <Button variant=\"outline-secondary\" onClick={handleClearFilter}>Clear Filter</Button>\n//         </Col>\n//       </Row>\n\n//       {/* Show FilterPopup if toggled */}\n//       {showFilter && <FilterPopup onApply={handleFilter} onClose={() => setShowFilter(false)} />}\n\n//       {/* UserTable component to display users */}\n//   {sortedUsers.length === 0 ? (\n//   <div className=\"text-center p-3\">\n//         <h4 className=\"text-center mb-4 text-danger\">No users found</h4>\n\n//   </div>\n// ) : (\n//   <UserTable\n//     users={sortedUsers}\n//     onDelete={handleDelete}\n//     onEdit={(id) => navigate(`/edit/${id}`)}\n//     onSearch={handleSearch}\n//     onSort={handleSort}\n//     sortConfig={sortConfig}\n//   />\n// )}\n\n//       {/* <UserTable\n//         users={sortedUsers}\n//         onDelete={handleDelete}\n//         onEdit={(id) => navigate(`/edit/${id}`)}\n//         onSearch={handleSearch}\n//         onSort={handleSort}\n//         sortConfig={sortConfig}\n//       /> */}\n\n//     </Container>\n//   );\n// };\n\n// export default UsersPage;\n_s(UsersPage, \"TPQ7WUYw0wJK0+ahV/aUkPdxTv8=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = UsersPage;\nvar _c;\n$RefreshReg$(_c, \"UsersPage\");","map":{"version":3,"names":["React","useEffect","useState","Container","Row","Col","Button","Form","useNavigate","useLocation","UserTable","Pagination","SearchBar","FilterPopup","getUsers","deleteUser","jsxDEV","_jsxDEV","Fragment","_Fragment","UsersPage","_s","users","setUsers","filteredUsers","setFilteredUsers","searchQuery","setSearchQuery","showFilter","setShowFilter","sortConfig","setSortConfig","key","direction","pageLimit","setPageLimit","currentPage","setCurrentPage","navigate","location","fetchUsers","state","addedUser","updatedUser","enriched","enrichSingleUser","prev","pathname","replace","map","u","id","user","_user$company","firstName","rest","name","split","lastName","join","department","company","data","_user$company2","err","alert","handleDelete","window","confirm","updated","filter","handleSearch","query","q","trim","toLowerCase","filtered","includes","email","handleFilter","filters","handleClearFilter","handleSort","dir","sortedUsers","sort","a","b","A","Number","B","String","total","length","totalPages","Math","max","ceil","displayed","slice","className","children","md","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","variant","onClick","show","handleClose","applyFilter","e","target","n","onEdit","onDelete","onSort","_c","$RefreshReg$"],"sources":["C:/Users/dmayu/OneDrive/Desktop/kanishka/project/extra/user_Dashboard/user_dashboard/src/pages/UsersPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Container, Row, Col, Button, Form } from \"react-bootstrap\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport UserTable from \"../components/UserTable\";\r\nimport Pagination from \"../components/Pagination\";\r\nimport SearchBar from \"../components/SearchBar\";\r\nimport FilterPopup from \"../components/FilterPopup\";\r\nimport { getUsers, deleteUser } from \"../services/api\";\r\n\r\nexport default function UsersPage() {\r\n  const [users, setUsers] = useState([]); // master list\r\n  const [filteredUsers, setFilteredUsers] = useState([]); // after search/filter\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [showFilter, setShowFilter] = useState(false);\r\n\r\n  // sorting\r\n  const [sortConfig, setSortConfig] = useState({ key: \"id\", direction: \"asc\" });\r\n\r\n  // pagination\r\n  const [pageLimit, setPageLimit] = useState(10);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  // fetch & enrich users\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  // handle incoming state from Add/Edit pages (so UI updates immediately)\r\n  useEffect(() => {\r\n    if (location.state) {\r\n      const { addedUser, updatedUser } = location.state;\r\n      if (addedUser) {\r\n        const enriched = enrichSingleUser(addedUser);\r\n        setUsers((prev) => [enriched, ...prev]);\r\n        setFilteredUsers((prev) => [enriched, ...prev]);\r\n        // clear navigation state\r\n        navigate(location.pathname, { replace: true, state: null });\r\n      } else if (updatedUser) {\r\n        const enriched = enrichSingleUser(updatedUser);\r\n        setUsers((prev) => prev.map((u) => (u.id === enriched.id ? enriched : u)));\r\n        setFilteredUsers((prev) => prev.map((u) => (u.id === enriched.id ? enriched : u)));\r\n        navigate(location.pathname, { replace: true, state: null });\r\n      }\r\n    }\r\n  }, [location.state]); // eslint-disable-line\r\n\r\n  const enrichSingleUser = (user) => {\r\n    const [firstName, ...rest] = (user.name || \"\").split(\" \");\r\n    return {\r\n      ...user,\r\n      firstName,\r\n      lastName: rest.join(\" \"),\r\n      department: user.company?.name || user.department || \"N/A\",\r\n    };\r\n  };\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const data = await getUsers();\r\n      // enrich each user with firstName, lastName, department\r\n      const enriched = data.map((user) => {\r\n        const [firstName, ...rest] = (user.name || \"\").split(\" \");\r\n        return {\r\n          ...user,\r\n          firstName,\r\n          lastName: rest.join(\" \"),\r\n          department: user.company?.name || \"N/A\",\r\n        };\r\n      });\r\n      setUsers(enriched);\r\n      setFilteredUsers(enriched);\r\n    } catch (err) {\r\n      alert(\"Error fetching users\");\r\n    }\r\n  };\r\n\r\n  // delete\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm(\"Are you sure to delete this user?\")) return;\r\n    try {\r\n      await deleteUser(id); // JSONPlaceholder simulates deletion\r\n      const updated = users.filter((u) => u.id !== id);\r\n      setUsers(updated);\r\n      setFilteredUsers(updated);\r\n    } catch {\r\n      alert(\"Error deleting user\");\r\n    }\r\n  };\r\n\r\n  // search\r\n  const handleSearch = (query) => {\r\n    setSearchQuery(query);\r\n    const q = query.trim().toLowerCase();\r\n    if (!q) {\r\n      setFilteredUsers(users);\r\n      setCurrentPage(1);\r\n      return;\r\n    }\r\n    const filtered = users.filter((u) => {\r\n      return (\r\n        (u.firstName || \"\").toLowerCase().includes(q) ||\r\n        (u.lastName || \"\").toLowerCase().includes(q) ||\r\n        (u.email || \"\").toLowerCase().includes(q) ||\r\n        (u.department || \"\").toLowerCase().includes(q)\r\n      );\r\n    });\r\n    setFilteredUsers(filtered);\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  // filter\r\n  const handleFilter = (filters) => {\r\n    const filtered = users.filter((u) => {\r\n      return (\r\n        (!filters.firstName || (u.firstName || \"\").toLowerCase().includes(filters.firstName.toLowerCase())) &&\r\n        (!filters.lastName || (u.lastName || \"\").toLowerCase().includes(filters.lastName.toLowerCase())) &&\r\n        (!filters.email || (u.email || \"\").toLowerCase().includes(filters.email.toLowerCase())) &&\r\n        (!filters.department || (u.department || \"\").toLowerCase().includes(filters.department.toLowerCase()))\r\n      );\r\n    });\r\n    setFilteredUsers(filtered);\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const handleClearFilter = () => {\r\n    setFilteredUsers(users);\r\n    setSearchQuery(\"\");\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  // sorting\r\n  const handleSort = (key) => {\r\n    let dir = \"asc\";\r\n    if (sortConfig.key === key && sortConfig.direction === \"asc\") dir = \"desc\";\r\n    setSortConfig({ key, direction: dir });\r\n  };\r\n\r\n  const sortedUsers = [...filteredUsers].sort((a, b) => {\r\n    const { key, direction } = sortConfig;\r\n    let A = (key === \"firstName\" || key === \"lastName\") ? (a[key] || \"\") : (key === \"id\" ? Number(a[key]) : (a[key] || \"\"));\r\n    let B = (key === \"firstName\" || key === \"lastName\") ? (b[key] || \"\") : (key === \"id\" ? Number(b[key]) : (b[key] || \"\"));\r\n\r\n    if (key !== \"id\") {\r\n      A = String(A).toLowerCase();\r\n      B = String(B).toLowerCase();\r\n    }\r\n\r\n    if (A < B) return direction === \"asc\" ? -1 : 1;\r\n    if (A > B) return direction === \"asc\" ? 1 : -1;\r\n    return 0;\r\n  });\r\n\r\n  // Pagination controls\r\n  const total = sortedUsers.length;\r\n  const totalPages = Math.max(1, Math.ceil(total / pageLimit));\r\n  const displayed = sortedUsers.slice((currentPage - 1) * pageLimit, currentPage * pageLimit);\r\n\r\n  // When pageLimit changes, reset to page 1\r\n  useEffect(() => setCurrentPage(1), [pageLimit]);\r\n\r\n  return (\r\n    <Container className=\"mt-3\">\r\n      <Row className=\"mb-2 align-items-center\">\r\n        <Col md={4}>\r\n          <h3>User Management Dashboard</h3>\r\n        </Col>\r\n\r\n        <Col md={4}>\r\n          <SearchBar value={searchQuery} onChange={handleSearch} />\r\n        </Col>\r\n\r\n        <Col md={4} className=\"text-end\">\r\n          <Button className=\"me-2\" variant=\"success\" onClick={() => navigate(\"/users/add\")}>Add</Button>\r\n          <Button className=\"me-2\" variant=\"info\" onClick={() => setShowFilter(true)}>Filter</Button>\r\n          <Button variant=\"outline-secondary\" onClick={handleClearFilter}>Clear</Button>\r\n        </Col>\r\n      </Row>\r\n\r\n      {showFilter && <FilterPopup show={showFilter} handleClose={() => setShowFilter(false)} applyFilter={handleFilter} />}\r\n\r\n      <Row className=\"mb-2\">\r\n        <Col md={6}>\r\n          <div>\r\n            Showing <strong>{displayed.length}</strong> of <strong>{total}</strong> users\r\n          </div>\r\n        </Col>\r\n        <Col md={6} className=\"text-end\">\r\n          <label className=\"me-2\">Rows:</label>\r\n          <select value={pageLimit} onChange={(e) => setPageLimit(Number(e.target.value))} className=\"form-select d-inline-block w-auto\">\r\n            {[10,25,50,100].map(n => <option key={n} value={n}>{n}</option>)}\r\n          </select>\r\n        </Col>\r\n      </Row>\r\n\r\n      {displayed.length === 0 ? (\r\n        <div className=\"text-center p-4\">\r\n          <h5 className=\"text-danger\">No users found</h5>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <UserTable users={displayed} onEdit={(id) => navigate(`/users/edit/${id}`)} onDelete={handleDelete} onSort={handleSort} sortConfig={sortConfig} />\r\n          <Pagination total={total} pageLimit={pageLimit} currentPage={currentPage} setCurrentPage={setCurrentPage} />\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n//==========================\r\n\r\n// import React, { useState, useEffect } from \"react\";\r\n// import { Container, Row, Col, Button } from \"react-bootstrap\";\r\n// import UserTable from \"../components/UserTable\";\r\n// import { getUsers, deleteUser } from \"../services/api\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n// import FilterPopup from \"../components/FilterPopup\";\r\n\r\n// const UsersPage = () => {\r\n//   // State to store all users fetched from API\r\n//   const [users, setUsers] = useState([]);\r\n//   // State to store filtered/search results\r\n//   const [filteredUsers, setFilteredUsers] = useState([]);\r\n//   // State for search input value\r\n//   const [searchQuery, setSearchQuery] = useState(\"\");\r\n//   // State to toggle filter popup\r\n//   const [showFilter, setShowFilter] = useState(false);\r\n//   // State to track sorting key and direction\r\n//   const [sortConfig, setSortConfig] = useState({ key: \"id\", direction: \"asc\" });\r\n\r\n//   const navigate = useNavigate();\r\n\r\n//   // Fetch users when component mounts\r\n//   useEffect(() => {\r\n//     fetchUsers();\r\n//   }, []);\r\n\r\n//   // Function to fetch users from API\r\n//   const fetchUsers = async () => {\r\n//     try {\r\n//       const data = await getUsers();\r\n//       // Enrich data: use company.name as department\r\n//       const enrichedData = data.map((user) => ({\r\n//         ...user,\r\n//         department: user.company?.name || \"N/A\",\r\n//       }));\r\n//       setUsers(enrichedData);\r\n//       setFilteredUsers(enrichedData);\r\n//     } catch {\r\n//       alert(\"Error fetching users\");\r\n//     }\r\n//   };\r\n\r\n//   // Delete user by ID\r\n//   const handleDelete = async (id) => {\r\n//     if (window.confirm(\"Are you sure to delete this user?\")) {\r\n//       try {\r\n//         await deleteUser(id);\r\n//         // Remove deleted user from state\r\n//         const updatedUsers = users.filter((u) => u.id !== id);\r\n//         setUsers(updatedUsers);\r\n//         setFilteredUsers(updatedUsers);\r\n//       } catch {\r\n//         alert(\"Error deleting user\");\r\n//       }\r\n//     }\r\n//   };\r\n\r\n//   // Handle search input\r\n//   const handleSearch = (query) => {\r\n//     setSearchQuery(query);\r\n//     const filtered = users.filter((user) => {\r\n//       return (\r\n//         user.name.toLowerCase().includes(query.toLowerCase()) ||\r\n//         user.email.toLowerCase().includes(query.toLowerCase()) ||\r\n//         user.department.toLowerCase().includes(query.toLowerCase())\r\n//       );\r\n//     });\r\n//     setFilteredUsers(filtered);\r\n//   };\r\n\r\n//   // Apply filter from FilterPopup\r\n//   const handleFilter = (filters) => {\r\n//     const filtered = users.filter((user) => {\r\n//       return (\r\n//         (!filters.name || user.name.toLowerCase().includes(filters.name.toLowerCase())) &&\r\n//         (!filters.email || user.email.toLowerCase().includes(filters.email.toLowerCase())) &&\r\n//         (!filters.department || user.department.toLowerCase().includes(filters.department.toLowerCase()))\r\n//       );\r\n//     });\r\n//     setFilteredUsers(filtered || []);\r\n//     setShowFilter(false); // Close filter popup\r\n//   };\r\n\r\n//   // Clear filters and show all users\r\n//   const handleClearFilter = () => {\r\n//     setFilteredUsers(users);\r\n//   };\r\n\r\n//   // Handle sorting by column\r\n//   const handleSort = (key) => {\r\n//     let direction = \"asc\";\r\n//     if (sortConfig.key === key && sortConfig.direction === \"asc\") direction = \"desc\";\r\n//     setSortConfig({ key, direction });\r\n//   };\r\n\r\n//   // Sort users based on sortConfig\r\n//   const sortedUsers = [...filteredUsers].sort((a, b) => {\r\n//     const { key, direction } = sortConfig;\r\n//     let compareA = a[key];\r\n//     let compareB = b[key];\r\n//     if (key === \"id\") {\r\n//       compareA = Number(compareA);\r\n//       compareB = Number(compareB);\r\n//     } else {\r\n//       compareA = compareA.toLowerCase();\r\n//       compareB = compareB.toLowerCase();\r\n//     }\r\n//     if (compareA < compareB) return direction === \"asc\" ? -1 : 1;\r\n//     if (compareA > compareB) return direction === \"asc\" ? 1 : -1;\r\n//     return 0;\r\n//   });\r\n\r\n//   return (\r\n//     <Container className=\"mt-4\">\r\n//       <Row className=\"mb-3\">\r\n        \r\n//         <Col className=\"text-end\">\r\n//           {/* Button to navigate to Add User page */}\r\n//           <Button variant=\"primary\" onClick={() => navigate(\"/add\")}>Add User</Button>{\" \"}\r\n//           {/* Toggle filter popup */}\r\n//           <Button variant=\"secondary\" onClick={() => setShowFilter(!showFilter)}>Filter</Button>{\" \"}\r\n//           {/* Clear applied filters */}\r\n//           <Button variant=\"outline-secondary\" onClick={handleClearFilter}>Clear Filter</Button>\r\n//         </Col>\r\n//       </Row>\r\n\r\n//       {/* Show FilterPopup if toggled */}\r\n//       {showFilter && <FilterPopup onApply={handleFilter} onClose={() => setShowFilter(false)} />}\r\n\r\n      \r\n//       {/* UserTable component to display users */}\r\n//   {sortedUsers.length === 0 ? (\r\n//   <div className=\"text-center p-3\">\r\n//         <h4 className=\"text-center mb-4 text-danger\">No users found</h4>\r\n\r\n//   </div>\r\n// ) : (\r\n//   <UserTable\r\n//     users={sortedUsers}\r\n//     onDelete={handleDelete}\r\n//     onEdit={(id) => navigate(`/edit/${id}`)}\r\n//     onSearch={handleSearch}\r\n//     onSort={handleSort}\r\n//     sortConfig={sortConfig}\r\n//   />\r\n// )}\r\n\r\n//       {/* <UserTable\r\n//         users={sortedUsers}\r\n//         onDelete={handleDelete}\r\n//         onEdit={(id) => navigate(`/edit/${id}`)}\r\n//         onSearch={handleSearch}\r\n//         onSort={handleSort}\r\n//         sortConfig={sortConfig}\r\n//       /> */}\r\n    \r\n//     </Container>\r\n//   );\r\n// };\r\n\r\n// export default UsersPage;\r\n"],"mappings":"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AS;QAACY,KAAK,EAAE4E,SAAU;QAACmB,MAAM,EAAGlE,EAAE,IAAKb,QAAQ,CAAC,eAAea,EAAE,EAAE,CAAE;QAACmE,QAAQ,EAAEpD,YAAa;QAACqD,MAAM,EAAErC,UAAW;QAACpD,UAAU,EAAEA;MAAW;QAAAyE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAClJzF,OAAA,CAACN,UAAU;QAACiF,KAAK,EAAEA,KAAM;QAAC1D,SAAS,EAAEA,SAAU;QAACE,WAAW,EAAEA,WAAY;QAACC,cAAc,EAAEA;MAAe;QAAAkE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA,eAC5G,CACH;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACQ,CAAC;AAEhB;;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AAAArF,EAAA,CA/WwBD,SAAS;EAAA,QAadZ,WAAW,EACXC,WAAW;AAAA;AAAA+G,EAAA,GAdNpG,SAAS;AAAA,IAAAoG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _objectSpread from\"C:/Users/dmayu/OneDrive/Desktop/kanishka/project/extra/user_Dashboard/user_dashboard/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{isRequired,isEmailValid}from\"../utils/validation\";// Import validation helpers\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserForm(_ref){let{initialData=null,onSubmit,submitLabel=\"Submit\"}=_ref;// Form state to hold input values\nconst[form,setForm]=useState({firstName:\"\",lastName:\"\",email:\"\",department:\"\"});// State to hold validation errors\nconst[errors,setErrors]=useState({});// Populate form with initialData if provided (for edit scenario)\nuseEffect(()=>{if(initialData){var _initialData$company;setForm({firstName:initialData.firstName||(initialData.name?initialData.name.split(\" \")[0]:\"\"),lastName:initialData.lastName||(initialData.name?initialData.name.split(\" \").slice(1).join(\" \"):\"\"),email:initialData.email||\"\",department:initialData.department||((_initialData$company=initialData.company)===null||_initialData$company===void 0?void 0:_initialData$company.name)||\"\"});}},[initialData]);// Handle input changes and update form state\nconst handleChange=e=>setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));// Validate form fields\nconst validate=()=>{const errs={};if(!isRequired(form.firstName))errs.firstName=\"First name required\";if(!isRequired(form.lastName))errs.lastName=\"Last name required\";if(!isRequired(form.email))errs.email=\"Email required\";else if(!isEmailValid(form.email))errs.email=\"Invalid email\";return errs;};// Handle form submission\nconst handleSubmit=e=>{e.preventDefault();const errs=validate();// Perform validation\nsetErrors(errs);// Update errors state\nif(Object.keys(errs).length>0)return;// Stop submission if errors exist\n// Prepare payload in shape compatible with API & UI\nconst payload={name:\"\".concat(form.firstName,\" \").concat(form.lastName).trim(),// Concatenate first and last name\nemail:form.email,company:{name:form.department}// Wrap department in company object\n};onSubmit(payload);// Call onSubmit prop with prepared data\n};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"firstName\",value:form.firstName,onChange:handleChange,className:\"form-control \".concat(errors.firstName?\"is-invalid\":\"\")// Show invalid style if error\n}),/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.firstName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"lastName\",value:form.lastName,onChange:handleChange,className:\"form-control \".concat(errors.lastName?\"is-invalid\":\"\")}),/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.lastName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",value:form.email,onChange:handleChange,className:\"form-control \".concat(errors.email?\"is-invalid\":\"\")}),/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Department\"}),/*#__PURE__*/_jsx(\"input\",{name:\"department\",value:form.department,onChange:handleChange,className:\"form-control\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success mt-2\",children:submitLabel})]});}","map":{"version":3,"names":["React","useState","useEffect","isRequired","isEmailValid","jsx","_jsx","jsxs","_jsxs","UserForm","_ref","initialData","onSubmit","submitLabel","form","setForm","firstName","lastName","email","department","errors","setErrors","_initialData$company","name","split","slice","join","company","handleChange","e","_objectSpread","target","value","validate","errs","handleSubmit","preventDefault","Object","keys","length","payload","concat","trim","children","className","onChange","type"],"sources":["C:/Users/dmayu/OneDrive/Desktop/kanishka/project/extra/user_Dashboard/user_dashboard/src/components/UserForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { isRequired, isEmailValid } from \"../utils/validation\"; // Import validation helpers\r\n\r\nexport default function UserForm({ initialData = null, onSubmit, submitLabel = \"Submit\" }) {\r\n  // Form state to hold input values\r\n  const [form, setForm] = useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    department: \"\",\r\n  });\r\n  // State to hold validation errors\r\n  const [errors, setErrors] = useState({});\r\n\r\n  // Populate form with initialData if provided (for edit scenario)\r\n  useEffect(() => {\r\n    if (initialData) {\r\n      setForm({\r\n        firstName: initialData.firstName || (initialData.name ? initialData.name.split(\" \")[0] : \"\"),\r\n        lastName: initialData.lastName || (initialData.name ? initialData.name.split(\" \").slice(1).join(\" \") : \"\"),\r\n        email: initialData.email || \"\",\r\n        department: initialData.department || initialData.company?.name || \"\",\r\n      });\r\n    }\r\n  }, [initialData]);\r\n\r\n  // Handle input changes and update form state\r\n  const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\r\n\r\n  // Validate form fields\r\n  const validate = () => {\r\n    const errs = {};\r\n    if (!isRequired(form.firstName)) errs.firstName = \"First name required\";\r\n    if (!isRequired(form.lastName)) errs.lastName = \"Last name required\";\r\n    if (!isRequired(form.email)) errs.email = \"Email required\";\r\n    else if (!isEmailValid(form.email)) errs.email = \"Invalid email\";\r\n    return errs;\r\n  };\r\n\r\n  // Handle form submission\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const errs = validate(); // Perform validation\r\n    setErrors(errs); // Update errors state\r\n    if (Object.keys(errs).length > 0) return; // Stop submission if errors exist\r\n\r\n    // Prepare payload in shape compatible with API & UI\r\n    const payload = {\r\n      name: `${form.firstName} ${form.lastName}`.trim(), // Concatenate first and last name\r\n      email: form.email,\r\n      company: { name: form.department }, // Wrap department in company object\r\n    };\r\n\r\n    onSubmit(payload); // Call onSubmit prop with prepared data\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {/* First Name Field */}\r\n      <div className=\"mb-2\">\r\n        <label>First Name</label>\r\n        <input\r\n          name=\"firstName\"\r\n          value={form.firstName}\r\n          onChange={handleChange}\r\n          className={`form-control ${errors.firstName ? \"is-invalid\" : \"\"}`} // Show invalid style if error\r\n        />\r\n        <div className=\"invalid-feedback\">{errors.firstName}</div>\r\n      </div>\r\n\r\n      {/* Last Name Field */}\r\n      <div className=\"mb-2\">\r\n        <label>Last Name</label>\r\n        <input\r\n          name=\"lastName\"\r\n          value={form.lastName}\r\n          onChange={handleChange}\r\n          className={`form-control ${errors.lastName ? \"is-invalid\" : \"\"}`}\r\n        />\r\n        <div className=\"invalid-feedback\">{errors.lastName}</div>\r\n      </div>\r\n\r\n      {/* Email Field */}\r\n      <div className=\"mb-2\">\r\n        <label>Email</label>\r\n        <input\r\n          name=\"email\"\r\n          value={form.email}\r\n          onChange={handleChange}\r\n          className={`form-control ${errors.email ? \"is-invalid\" : \"\"}`}\r\n        />\r\n        <div className=\"invalid-feedback\">{errors.email}</div>\r\n      </div>\r\n\r\n      {/* Department Field */}\r\n      <div className=\"mb-2\">\r\n        <label>Department</label>\r\n        <input\r\n          name=\"department\"\r\n          value={form.department}\r\n          onChange={handleChange}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      {/* Submit Button */}\r\n      <button type=\"submit\" className=\"btn btn-success mt-2\">{submitLabel}</button>\r\n    </form>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}